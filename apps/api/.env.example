#
# Rekon API - .env.example
#
# Copy this file to `.env` in the `apps/api` directory and fill in the values.
#

# ---------------------------------------
# General Server Config
# ---------------------------------------

# Port for the Rekon API server
PORT=3001

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000

# Node environment: development | production
NODE_ENV=development

# ---------------------------------------
# Sentry (Error Tracking)
# ---------------------------------------

# Optional: Sentry DSN for error tracking
# Get from: https://sentry.io/
SENTRY_DSN=

# ---------------------------------------
# Polymarket - Core CLOB & APIs
# ---------------------------------------

# CLOB REST API - Used for trading endpoints
POLYMARKET_CLOB_API_URL=https://clob.polymarket.com

# Legacy alias (kept for compatibility)
POLYMARKET_API_URL=https://clob.polymarket.com

# Builder API - Markets, leaderboard, stats
POLYMARKET_BUILDER_API_URL=https://api.builder.polymarket.com

# Data API - User data, holdings, on-chain activities
POLYMARKET_DATA_API_URL=https://data-api.polymarket.com

# WebSocket CLOB - Real-time orderbook/trades
POLYMARKET_WSS_CLOB_URL=wss://ws-subscriptions-clob.polymarket.com/ws

# Real Time Data Socket (RTDS) - crypto prices, comments, live data
POLYMARKET_RTDS_URL=wss://ws-live-data.polymarket.com

# Polygon Chain ID (Mainnet = 137)
POLYMARKET_CHAIN_ID=137

# ---------------------------------------
# Polymarket - Wallet & Trading
# ---------------------------------------

# Wallet private key for signing CLOB orders (server-side trader wallet)
# WARNING: Keep this secret. Do NOT commit real values.
POLYMARKET_WALLET_PRIVATE_KEY=0xYourPrivateKeyHere

# Funder address (Polymarket profile address where USDC is sent)
POLYMARKET_FUNDER_ADDRESS=0xYourFunderAddressHere

# Signature type:
# 0 = Browser Wallet
# 1 = Magic / Email Login (recommended for backend key-based trading)
POLYMARKET_SIGNATURE_TYPE=1

# ---------------------------------------
# Polymarket - Builder Credentials & Attribution
# ---------------------------------------

# Builder API key (used for higher rate limits & data APIs)
# Get from: https://polymarket.com/settings/api
POLYMARKET_BUILDER_API_KEY=your_builder_api_key

# Builder signing credentials (for cryptographic order attribution)
POLYMARKET_BUILDER_SECRET=your_builder_secret
POLYMARKET_BUILDER_PASSPHRASE=your_builder_passphrase

# Builder attribution metadata
# Builder ID = your builder wallet address (from builder profile)
POLYMARKET_BUILDER_ID=0xYourBuilderAddress
POLYMARKET_BUILDER_NAME=Rekon

# ---------------------------------------
# Polymarket - Builder Signing Server (Remote Signing)
# ---------------------------------------

# Optional: Use remote signing server for builder attribution (recommended for production)
# See: https://github.com/Polymarket/builder-signing-server
POLYMARKET_BUILDER_SIGNING_SERVER_URL=http://localhost:3000/sign

# Optional auth token for signing server (if configured)
POLYMARKET_BUILDER_SIGNING_SERVER_TOKEN=

# ---------------------------------------
# Neon Database (PostgreSQL)
# ---------------------------------------

# Neon serverless Postgres connection string
# Get from: https://console.neon.tech/
# Format: postgres://user:password@host/dbname?sslmode=require
#
# Recommended: Use separate branches for dev/prod
# - Development: Use a "dev" branch (safe for testing)
# - Production: Use "main" branch (protected)
NEON_DATABASE_URL=

# ---------------------------------------
# Upstash Redis (Caching)
# ---------------------------------------

# Upstash Redis REST API URL
# Get from: https://console.upstash.com/
UPSTASH_REDIS_REST_URL=

# Upstash Redis REST API Token
UPSTASH_REDIS_REST_TOKEN=

# Enable Redis:
# - leave empty or true to enable (if URL/token set)
# - set to false to force in-memory LRU cache only
REDIS_ENABLED=true

# ---------------------------------------
# Misc / Future Flags
# ---------------------------------------

# Reserved for future feature flags (e.g., WS feeds, webhooks)
# REKON_FEATURE_WEBSOCKETS=true